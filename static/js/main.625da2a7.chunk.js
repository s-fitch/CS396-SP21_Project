(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"a":"#8A4FFF"}')},11:function(e){e.exports=JSON.parse('{"a":[{"question":"How does Community Q\'s work?","answer":"Community Q\'s is composed of many different communities, each with their own topic of interest, inside of which you can ask questions and find answers. A community\'s feed page shows the list of questions asked, which can then be clicked on to see the answers."},{"question":"How do I find communities?","answer":"To find a community, just use the search bar on the left side of the page. Enter terms for the topics you are interested in, and related communities will appear below."},{"question":"Do I need an account?","answer":"No, you can freely browse all the communities, questions, and answers that Community Q\'s has to offer without an account.\\nHowever, you will need an account to access the additional features of Community Q\'s, such as joining communities, posting your questions, or answering others\' questions."},{"question":"How can I get back to this page?","answer":"To get back to this homepage, you can click the Community Q\'s logo in the uppper lefthand corner of the page."}]}')},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var s=n(2),i=n.n(s),o=n(9),a=n.n(o),c=(n(16),n(3)),r=n(4),u=n(1),l=n(6),h=n(5),d=n(10),m=n(0),p=function(){return Object(m.jsxs)("div",{className:"navbar-brand",href:"#",children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:30,width:30},className:"d-inline-block align-text-top",fill:d.a,viewBox:"0 0 16 16",children:Object(m.jsx)("path",{d:"M5.933.87a2.89 2.89 0 0 1 4.134 0l.622.638.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636zM7.002 11a1 1 0 1 0 2 0 1 1 0 0 0-2 0zm1.602-2.027c.04-.534.198-.815.846-1.26.674-.475 1.05-1.09 1.05-1.986 0-1.325-.92-2.227-2.262-2.227-1.02 0-1.792.492-2.1 1.29A1.71 1.71 0 0 0 6 5.48c0 .393.203.64.545.64.272 0 .455-.147.564-.51.158-.592.525-.915 1.074-.915.61 0 1.03.446 1.03 1.084 0 .563-.208.885-.822 1.325-.619.433-.926.914-.926 1.64v.111c0 .428.208.745.585.745.336 0 .504-.24.554-.627z"})}),Object(m.jsx)("b",{className:"fs-4",style:{marginLeft:"10px"},children:"Community Q's"})]})},b=function(e){var t=e.showHome,n=e.tokens,s=e.logout,i=e.showLogin;return Object(m.jsx)("nav",{className:"navbar navbar-light bg-light",style:{height:"10vh"},children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("a",{href:"#",style:{textDecoration:"none"},onClick:t,children:Object(m.jsx)(p,{})}),n?Object(m.jsx)("div",{className:"d-flex",children:Object(m.jsx)("button",{className:"btn btn-primary",type:"button",onClick:s,children:"Logout"})}):Object(m.jsx)("div",{className:"d-flex",children:Object(m.jsx)("button",{className:"btn btn-primary",type:"button",onClick:i,children:"Log In"})})]})})},j=n(7),f=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={communityTitle:"",communityContent:""},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.submit=s.submit.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("form",{className:"container-fluid card",style:{width:"100%"},children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"text",id:"communityTitle",className:"form-control",maxLength:35,placeholder:"Community name...",onChange:this.handleChange,required:!0})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Description...",id:"communityContent",onChange:this.handleChange})}),Object(m.jsx)("button",{type:"button",className:"btn btn-primary mb-1",style:{width:"100%"},onClick:this.submit,children:"Submit"}),Object(m.jsx)("button",{type:"button",className:"btn btn-outline-secondary",style:{width:"100%"},onClick:this.props.close,children:"Cancel"})]})}},{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.id,e.target.value))}},{key:"submit",value:function(){var e=this;if(""!==this.state.communityTitle&&""!==this.state.communityContent){var t={name:this.state.communityTitle,description:this.state.communityContent};fetch("".concat("https://community-qs.herokuapp.com","/c/"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.props.tokens.access_token),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.message?console.log(t):e.props.finished()}))}}}]),n}(s.Component),y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={results:[]},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",id:"communityTitle",className:"form-control",maxLength:35,placeholder:"Search Communities...",onChange:this.handleChange,required:!0}),Object(m.jsx)("ul",{className:"list-group mt-3",children:this.state.results.map((function(t){return Object(m.jsx)("a",{href:"#",className:"list-group-item list-group-item-action",id:t._id,onClick:e.props.selectCommunity,children:t.name},t._id)}))})]})}},{key:"handleChange",value:function(e){var t=this;""===e.target.value&&e.target.value.length<3?this.setState({results:[]}):fetch("".concat("https://community-qs.herokuapp.com","/c/search?terms=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){t.setState({results:e})}))}}]),n}(i.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={addCommunity:!1},s.showAddCommunity=s.showAddCommunity.bind(Object(u.a)(s)),s.hideAddCommunity=s.hideAddCommunity.bind(Object(u.a)(s)),s.finishedAddCommunity=s.finishedAddCommunity.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{style:{height:"100%",overflowY:"auto",padding:"5px"},children:[this.props.tokens&&Object(m.jsxs)("div",{className:"mb-5",children:[Object(m.jsx)("h5",{className:"mt-3",children:"Your Communities"}),Object(m.jsx)("ul",{className:"list-group",children:this.props.communities.map((function(t){return Object(m.jsx)("a",{href:"#",className:"list-group-item list-group-item-action",id:t._id,onClick:e.props.selectCommunity,children:t.name},t._id)}))})]}),Object(m.jsx)("h5",{className:"mt-3",children:"Explore"}),this.props.tokens&&(this.state.addCommunity?Object(m.jsx)(f,{close:this.hideAddCommunity,finished:this.finishedAddCommunity,tokens:this.props.tokens}):Object(m.jsx)("button",{type:"button",className:"btn btn-primary mb-2",style:{width:"100%"},onClick:this.showAddCommunity,children:"Create a Community"})),Object(m.jsx)(y,{selectCommunity:this.props.selectCommunity})]})}},{key:"componentDidMount",value:function(){this.props.tokens&&this.props.updateCommunities()}},{key:"componentDidUpdate",value:function(e){e.tokens&&e.tokens!==this.props.tokens&&this.props.updateCommunities()}},{key:"showAddCommunity",value:function(){this.setState({addCommunity:!0})}},{key:"hideAddCommunity",value:function(){this.setState({addCommunity:!1})}},{key:"finishedAddCommunity",value:function(){this.hideAddCommunity(),this.props.updateCommunities()}}]),n}(i.a.Component),k=n(11),O=function(){return Object(m.jsxs)("div",{style:{height:"100%",padding:"10px",overflowY:"auto"},children:[Object(m.jsx)("h3",{children:Object(m.jsx)("b",{children:"Welcome to Community Q's"})}),Object(m.jsxs)("p",{children:["Community Q's is your one-stop-shop, all-in-one ","Q&A"," platform."]}),Object(m.jsxs)("p",{children:["Below are answers to some of the most frequently asked questions about Community Q's. ",Object(m.jsx)("br",{}),"Don't see an answer to your question? Ask us on the \"Community Q's Official\" community!"]}),Object(m.jsx)("ul",{className:"list-group",children:k.a.map((function(e,t){return Object(m.jsxs)("li",{className:"list-group-item ",children:[Object(m.jsx)("b",{children:e.question}),Object(m.jsx)("p",{style:{whiteSpace:"pre-line"},children:e.answer})]},t)}))})]})},v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).joinCommunity=s.joinCommunity.bind(Object(u.a)(s)),s.leaveCommunity=s.leaveCommunity.bind(Object(u.a)(s)),s.handleJoinLeave=s.handleJoinLeave.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){var e={borderRadius:"30px",padding:"0px",width:"70px",marginLeft:"30px"};return this.props.tokens&&(this.props.joined?Object(m.jsx)("button",{type:"button",className:"btn btn-outline-secondary",style:e,onClick:this.leaveCommunity,children:"Leave"}):Object(m.jsx)("button",{type:"button",className:"btn btn-outline-primary",style:e,onClick:this.joinCommunity,children:"Join"}))}},{key:"handleJoinLeave",value:function(e){var t=this;fetch("".concat("https://community-qs.herokuapp.com","/c/").concat(this.props.community,"/join"),{method:e,headers:{Authorization:"Bearer ".concat(this.props.tokens.access_token)}}).then((function(e){204===e.status?t.props.finished():console.log(e)}))}},{key:"joinCommunity",value:function(){this.handleJoinLeave("POST")}},{key:"leaveCommunity",value:function(){this.handleJoinLeave("DELETE")}}]),n}(s.Component),x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={questionTitle:"",questionContent:""},s.submit=s.submit.bind(Object(u.a)(s)),s.handleChange=s.handleChange.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("form",{className:"container-fluid card",children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"text",id:"questionTitle",className:"form-control",maxLength:35,placeholder:"Brief question title...",onChange:this.handleChange,required:!0})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Full question...",id:"questionContent",onChange:this.handleChange})}),Object(m.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(m.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-auto",style:{width:"100px"},onClick:this.props.close,children:"Cancel"}),Object(m.jsx)("button",{type:"button",className:"btn btn-primary ml-2",style:{width:"100px",marginLeft:"5px"},onClick:this.submit,children:"Submit"})]})]})}},{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.id,e.target.value))}},{key:"submit",value:function(){var e=this;if(""!==this.state.questionTitle&&""!==this.state.questionContent&&this.props.communityInfo){var t={title:this.state.questionTitle,content:this.state.questionContent};fetch("".concat("https://community-qs.herokuapp.com","/c/").concat(this.props.communityInfo._id,"/q"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.props.tokens.access_token),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.message?console.log(t):(e.setState({questionTitle:"",questionContent:""}),e.props.finished())})).catch((function(e){return console.log(e)}))}}}]),n}(s.Component),C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={showQuestionInput:!1},s.showQuestionInput=s.showQuestionInput.bind(Object(u.a)(s)),s.hideQuestionInput=s.hideQuestionInput.bind(Object(u.a)(s)),s.finishedQuestionInput=s.finishedQuestionInput.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"col",style:{height:"100%",overflowY:"auto",paddingTop:"5px"},children:[this.props.communityInfo&&Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsxs)("div",{className:"d-flex align-items-center",children:[Object(m.jsx)("h3",{className:"h3",children:Object(m.jsx)("b",{children:this.props.communityInfo.name})}),Object(m.jsx)(v,{joined:this.props.joined,finished:this.props.updateCommunities,tokens:this.props.tokens,community:this.props.communityInfo._id})]}),Object(m.jsx)("p",{children:Object(m.jsx)("small",{children:this.props.communityInfo.description})})]}),Object(m.jsxs)("div",{className:"container-fluid d-flex justify-content-between align-items-center",children:[Object(m.jsx)("h5",{children:"Questions"}),this.props.tokens&&!this.state.showQuestionInput&&Object(m.jsx)("button",{type:"button",className:"btn btn-primary",style:{margin:"5px"},onClick:this.showQuestionInput,children:"Ask a Question"})]}),this.state.showQuestionInput&&Object(m.jsx)(x,{close:this.hideQuestionInput,finished:this.finishedQuestionInput,communityInfo:this.props.communityInfo,tokens:this.props.tokens}),Object(m.jsx)("ul",{className:"list-group mb-3",children:this.props.feed.map((function(t){return Object(m.jsxs)("a",{href:"#",className:"list-group-item list-group-item-action",onClick:e.props.selectQuestion,id:t._id,style:{height:"100px"},children:[Object(m.jsx)("h6",{children:Object(m.jsx)("b",{children:t.title})}),Object(m.jsx)("div",{className:"text-truncate",children:t.content})]},t._id)}))})]})}},{key:"showQuestionInput",value:function(){this.setState({showQuestionInput:!0})}},{key:"hideQuestionInput",value:function(){this.setState({showQuestionInput:!1})}},{key:"finishedQuestionInput",value:function(){this.hideQuestionInput(),this.props.updateFeed()}}]),n}(i.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={text:""},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.submit=s.submit.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("form",{className:"container-fluid card",children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Write your answer...",onChange:this.handleChange})}),Object(m.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(m.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-auto",style:{width:"100px"},onClick:this.props.close,children:"Cancel"}),Object(m.jsx)("button",{type:"button",className:"btn btn-primary ml-2",style:{width:"100px",marginLeft:"5px"},onClick:this.submit,children:"Submit"})]})]})}},{key:"handleChange",value:function(e){this.setState({text:e.target.value})}},{key:"submit",value:function(){var e=this;if(""!==this.state.text){var t={content:this.state.text};fetch("".concat("https://community-qs.herokuapp.com","/c/").concat(this.props.community,"/q/").concat(this.props.question,"/a"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.props.tokens.access_token),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){204===t.status?e.props.finished():console.log("Request failed with code "+t.status)})).catch((function(e){return console.log(e)}))}}}]),n}(s.Component),N=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={questionInfo:{},answers:[],showAnswerInput:!1},s.openAnswer=s.openAnswer.bind(Object(u.a)(s)),s.closeAnswer=s.closeAnswer.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){var e=null;return this.state.answers&&(e=this.state.answers.map((function(e){return Object(m.jsx)("li",{className:"list-group-item",id:e._id,children:e.content},e._id)}))),Object(m.jsxs)("div",{style:{height:"100%",overflowY:"auto"},children:[Object(m.jsx)("nav",{className:"navbar navbar-light bg-white",style:{height:"5vh",marginBottom:"20px"},children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("h5",{children:"Question"}),Object(m.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:this.props.close})]})}),Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("h6",{children:this.state.questionInfo.title}),Object(m.jsx)("p",{children:this.state.questionInfo.content})]}),Object(m.jsxs)("div",{className:"container-fluid d-flex justify-content-between align-items-center",style:{marginTop:"30px"},children:[Object(m.jsx)("span",{className:"h5",children:"Answers"}),this.props.tokens&&!this.state.showAnswerInput&&Object(m.jsx)("button",{type:"button",className:"btn btn-primary ",style:{margin:"5px"},onClick:this.openAnswer,children:"Answer"})]}),this.state.showAnswerInput&&Object(m.jsx)(w,{tokens:this.props.tokens,community:this.props.community,question:this.props.question,close:this.closeAnswer,finished:this.closeAnswer}),Object(m.jsx)("ul",{className:"list-group mb-5",children:e})]})}},{key:"updateInfo",value:function(){var e=this,t={};this.props.tokens&&(t.Authorization="Bearer ".concat(this.props.tokens.access_token)),fetch("".concat("https://community-qs.herokuapp.com","/c/").concat(this.props.community,"/q/").concat(this.props.question),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.message?console.log(t):e.setState({questionInfo:t,answers:t.answers})}))}},{key:"componentDidMount",value:function(){this.updateInfo()}},{key:"componentDidUpdate",value:function(e){e.question!==this.props.question&&this.updateInfo()}},{key:"openAnswer",value:function(){this.setState({showAnswerInput:!0})}},{key:"closeAnswer",value:function(){this.setState({showAnswerInput:!1})}},{key:"finishedAnswerInput",value:function(){this.closeAnswer(),this.updateInfo()}}]),n}(s.Component),q=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={communityInfo:null,feed:[],question:null},s.selectQuestion=s.selectQuestion.bind(Object(u.a)(s)),s.closeQuestion=s.closeQuestion.bind(Object(u.a)(s)),s.updateFeed=s.updateFeed.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return this.props.community?this.state.question?Object(m.jsx)(N,{community:this.props.community,question:this.state.question,tokens:this.props.tokens,close:this.closeQuestion}):Object(m.jsx)(C,{communityInfo:this.state.communityInfo,feed:this.state.feed,selectQuestion:this.selectQuestion,tokens:this.props.tokens,joined:this.props.communities.map((function(e){return e._id})).includes(this.props.community),updateFeed:this.updateFeed,updateCommunities:this.props.updateCommunities}):Object(m.jsx)(O,{})}},{key:"componentDidMount",value:function(){this.props.community&&(this.updateInfo(),this.updateFeed())}},{key:"componentDidUpdate",value:function(e){e.community!==this.props.community&&(this.setState({question:null}),this.props.community&&(this.updateInfo(),this.updateFeed()))}},{key:"updateInfo",value:function(){var e=this;fetch("".concat("https://community-qs.herokuapp.com","/c/").concat(this.props.community),{method:"GET"}).then((function(e){return e.json()})).then((function(t){t.message?console.log(t):e.setState({communityInfo:t})}))}},{key:"updateFeed",value:function(){var e=this;fetch("".concat("https://community-qs.herokuapp.com","/c/").concat(this.props.community,"/feed"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){t.message?console.log(t):e.setState({feed:t.questions})})).catch((function(e){return console.log(e)}))}},{key:"selectQuestion",value:function(e){this.setState({question:e.target.closest("a").id})}},{key:"closeQuestion",value:function(e){this.setState({question:null})}}]),n}(i.a.Component),I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={communities:[],question:null},s.updateCommunities=s.updateCommunities.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"container-fluid",style:{height:"90vh"},children:Object(m.jsxs)("div",{className:"row",style:{flexWrap:"nowrap",height:"100%"},children:[Object(m.jsx)("div",{className:"col bg-light",style:{minHeight:"100%",maxHeight:"100%",minWidth:"250px",padding:"0px",maxWidth:"250px"},children:Object(m.jsx)(g,{tokens:this.props.tokens,selectCommunity:this.props.selectCommunity,communities:this.state.communities,updateCommunities:this.updateCommunities})}),Object(m.jsx)("div",{className:"col",style:{minHeight:"100%",maxHeight:"100%",overflow:"hidden"},children:Object(m.jsx)(q,{tokens:this.props.tokens,community:this.props.community,communities:this.state.communities,updateCommunities:this.updateCommunities})})]})})}},{key:"updateCommunities",value:function(){var e=this;this.props.tokens?fetch("".concat("https://community-qs.herokuapp.com","/account/feed"),{method:"GET",headers:{Authorization:"Bearer ".concat(this.props.tokens.access_token)}}).then((function(e){return e.json()})).then((function(t){t.message?console.log(t.message):e.setState({communities:t})})):this.setState({communities:[]})}}]),n}(i.a.Component),S=(n(18),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={signUp:!1,email:"",password:""},s.toggleSignUp=s.toggleSignUp.bind(Object(u.a)(s)),s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.logIn=s.logIn.bind(Object(u.a)(s)),s.signUp=s.signUp.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{style:{height:"100vh"},children:[Object(m.jsx)("nav",{className:"navbar navbar-light bg-white",style:{height:"10vh"},children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(p,{}),Object(m.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:this.props.hide})]})}),Object(m.jsx)("div",{style:{height:"90vh"},children:Object(m.jsxs)("form",{children:[Object(m.jsx)("h2",{className:"h2",children:Object(m.jsx)("b",{children:this.state.signUp?"Sign Up":"Log In"})}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsxs)("div",{className:"contianer-fluid d-flex justify-content-between",children:[Object(m.jsx)("label",{htmlFor:"email",className:"form-label align-self-center",children:"Email address"}),Object(m.jsxs)("span",{className:"align-self-center",children:[this.state.signUp?"Already have an account?":"Need an account?",Object(m.jsx)("a",{href:"#",onClick:this.toggleSignUp,children:this.state.signUp?"Log In":"Sign Up"})]})]}),Object(m.jsx)("input",{type:"email",id:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"name@example.com",onChange:this.handleChange,required:!0}),Object(m.jsx)("div",{id:"emailFeedback"})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",className:"form-control",onChange:this.handleChange,required:!0}),Object(m.jsx)("div",{id:"passwordFeedback"})]}),Object(m.jsx)("div",{id:"generalFeedback",className:"alert alert-danger",style:{display:"none",padding:"10px"}}),Object(m.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.state.signUp?this.signUp:this.logIn,children:this.state.signUp?"Sign Up":"Log In"})]})})]})}},{key:"toggleSignUp",value:function(){var e=this.state.signUp;document.querySelector("#password").value="",this.setState({password:"",signUp:!e})}},{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.type,e.target.value))}},{key:"feedbackEmail",value:function(e){var t=document.querySelector("#email"),n=document.querySelector("#emailFeedback");e?(t.classList.add("is-invalid"),n.classList.add("invalid-feedback"),n.innerHTML=e):(t.classList.remove("is-invalid"),n.classList.remove("invalid-feedback"),n.innerHTML="")}},{key:"feedbackPassword",value:function(e){var t=document.querySelector("#password"),n=document.querySelector("#passwordFeedback");e?(t.classList.add("is-invalid"),n.classList.add("invalid-feedback"),n.innerHTML=e):(t.classList.remove("is-invalid"),n.classList.remove("invalid-feedback"),n.innerHTML="")}},{key:"feedbackPost",value:function(e){var t=document.querySelector("#generalFeedback");e?(document.querySelector("#password").value="",t.style.display="block",t.innerHTML=e):(t.style.display="none",t.innerHTML="")}},{key:"validateEmail",value:function(e){return""===e?(this.feedbackEmail("Please enter your email address"),!1):new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$").test(e)?(this.feedbackEmail(null),!0):(this.feedbackEmail("Email address must conform to format: name@example.com"),!1)}},{key:"validatePassword",value:function(e){return""===e?(this.feedbackPassword("Please enter your password"),!1):e.length>20||e.length<8?(this.feedbackPassword("Password must be 8-20 characters"),!1):(this.feedbackPassword(null),!0)}},{key:"authPost",value:function(e){var t=this,n=this.state.email,s=this.state.password;if(this.validateEmail(n)&&this.validatePassword(s)){var i={email:n,password:s};fetch("".concat("https://community-qs.herokuapp.com").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){if(e.message)return console.log(e),void t.feedbackPost(e.message);t.feedbackPost(null),t.props.finish(e)})).catch((function(e){return console.log(e)}))}}},{key:"logIn",value:function(){this.authPost("/account/login")}},{key:"signUp",value:function(){this.authPost("/account")}}]),n}(i.a.Component)),L=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(c.a)(this,n);var i=(s=t.call(this,e)).getTokensFromCookie();return i=Boolean(i.access_token)&&Boolean(i.refresh_token)?i:null,s.state={login:!1,tokens:i,community:null},s.getCookie=s.getCookie.bind(Object(u.a)(s)),s.setCookie=s.setCookie.bind(Object(u.a)(s)),s.clearCookie=s.clearCookie.bind(Object(u.a)(s)),s.getTokensFromCookie=s.getTokensFromCookie.bind(Object(u.a)(s)),s.setTokensInCookie=s.setTokensInCookie.bind(Object(u.a)(s)),s.clearTokensFromCookie=s.clearTokensFromCookie.bind(Object(u.a)(s)),s.showLogin=s.showLogin.bind(Object(u.a)(s)),s.hideLogin=s.hideLogin.bind(Object(u.a)(s)),s.finishLogin=s.finishLogin.bind(Object(u.a)(s)),s.logout=s.logout.bind(Object(u.a)(s)),s.selectCommunity=s.selectCommunity.bind(Object(u.a)(s)),s.showLanding=s.showLanding.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"render",value:function(){return this.state.login?Object(m.jsx)(S,{hide:this.hideLogin,finish:this.finishLogin}):Object(m.jsxs)("div",{style:{height:"100vh"},children:[Object(m.jsx)(b,{tokens:this.state.tokens,logout:this.logout,showLogin:this.showLogin,showHome:this.showLanding}),Object(m.jsx)(I,{tokens:this.state.tokens,community:this.state.community,selectCommunity:this.selectCommunity})]})}},{key:"getCookie",value:function(e){var t=document.cookie.split("; ").find((function(t){return t.startsWith("".concat(e,"="))}));return t?t.split("=")[1]:null}},{key:"setCookie",value:function(e,t){document.cookie="".concat(e,"=").concat(t)}},{key:"clearCookie",value:function(e){document.cookie="".concat(e,"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT")}},{key:"getTokensFromCookie",value:function(){return{access_token:this.getCookie("access_token"),refresh_token:this.getCookie("refresh_token")}}},{key:"setTokensInCookie",value:function(e){this.setCookie("access_token",e.access_token),this.setCookie("refresh_token",e.refresh_token)}},{key:"clearTokensFromCookie",value:function(){this.clearCookie("access_token"),this.clearCookie("refresh_token")}},{key:"showLogin",value:function(){this.setState({login:!0})}},{key:"hideLogin",value:function(){this.setState({login:!1})}},{key:"finishLogin",value:function(e){this.setTokensInCookie(e),this.setState({login:!1,tokens:e,community:null})}},{key:"logout",value:function(){window.confirm("Are you sure you want to logout?")&&(this.clearTokensFromCookie(),this.setState({tokens:null,community:null}))}},{key:"selectCommunity",value:function(e){this.setState({community:e.target.id})}},{key:"showLanding",value:function(){this.setState({community:null})}}]),n}(i.a.Component);a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.625da2a7.chunk.js.map